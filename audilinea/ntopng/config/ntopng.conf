# ntopng/config/ntopng.conf
# Configuración para máxima granularidad de monitoreo

# Puerto de la interfaz web
-P=3000

# Directorio de datos
-d=/var/lib/ntopng

# Credenciales (se establecen via variables de entorno)
# -u=admin
# -p=admin123

# Modo daemon
-e

# Configuración de granularidad máxima
--max-num-flows=200000
--max-num-hosts=50000

# Configuración de análisis de tráfico
--enable-top-talkers
--enable-application-analysis
--enable-category-analysis
--enable-ndpi-protocols
--enable-flow-device-port-rrd-creation

# Configuración de métricas detalladas
--dump-flows=json
--dump-hosts=all
--enable-active-local-hosts-cache
--enable-flow-device-port-rrd-creation

# Configuración de RRD (Round Robin Database) para históricos
--local-networks=192.168.0.0/16,10.0.0.0/8,172.16.0.0/12
--rrd-create-interfaces

# Configuración de categorización de aplicaciones
--categorization=all
--enable-geoip
--enable-application-blocks

# Configuración de APIs
--http-prefix=/
--enable-login=1
--disable-localhost-login=0

# Configuración de logs
--log-level=normal
--log-file=/var/lib/ntopng/ntopng.log

# Configuración de análisis DPI (Deep Packet Inspection)
--ndpi-protocols=/usr/share/ntopng/httpdocs/geoip/protos.txt

# Configuración de detección de dispositivos
--enable-device-protocol-policies
--enable-top-sites-analysis

# Configuración de flujos
--flow-table-size=65536
--max-entity-alerts=1024

# Configuración para tiempo real
--housekeeping-frequency=60
--intf-rrd-raw-days=1
--intf-rrd-1min-days=1
--intf-rrd-1h-days=7
--intf-rrd-1d-days=30

# Configuración de memoria
--memory-limit=512m